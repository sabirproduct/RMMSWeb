<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const qrCodeContainer = document.createElement('div');
        qrCodeContainer.style.position = 'absolute';
        qrCodeContainer.style.top = '30px';
        qrCodeContainer.style.right = '40px';
        qrCodeContainer.style.width = '100px';
        qrCodeContainer.style.height = '100px';

        const qrCodeData = `
            E-Way Bill No: 123456789012
            Generated Date: DD/MM/YYYY
            Generated By: John Doe            
        `;

        QRCode.toCanvas(document.createElement('canvas'), qrCodeData, { width: 100 }, (error, canvas) => {
            if (error) {
                console.error(error);
                return;
            }
            qrCodeContainer.appendChild(canvas); // Append the canvas to the container
            document.body.appendChild(qrCodeContainer); // Append the container to the body
        });
    });
</script>
<style>
    @media print {
        body {
            width: 210mm;
            height: 297mm;
            margin: 0;
            padding: 0;
        }
        .ewaybill-container {
            width: 190mm;
            margin: 0 auto;
            padding: 10mm;
            box-sizing: border-box;
        }
        .ewaybill-section {
            page-break-inside: avoid;
        }
        .ewaybill-header, .ewaybill-section, .table {
            font-size: 12px;
        }
        .table th, .table td {
            padding: 5px;
        }
        .col-md-6 {
            float: left;
            width: 50%;
            box-sizing: border-box;
        }
        .ewaybill-section .row .col-md-6 {
            display: inline-block;
            vertical-align: top;
        }
    }
</style>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Way Bill</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .ewaybill-container {
            padding: 20px;
            border: 1px solid #000;
            margin: 20px auto;
            max-width: 800px;
            background-color: #fff;
        }
        .ewaybill-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .ewaybill-section {
            margin-bottom: 15px;
        }
        .ewaybill-section h5 {
            border-bottom: 1px solid #000;
            padding-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="ewaybill-container">
        <div class="ewaybill-header">
            <h3>E-Way Bill</h3>
            <p>Under Goods and Services Tax (GST) - India</p>
        </div>

        <div class="ewaybill-section">
            <h5>1. E-WAY BILL Details</h5>
            <table style="width: 100%; border-collapse: collapse;">
                <tr>
                    <td><strong>E-Way Bill No:</strong></td>
                    <td>123456789012</td>
                    <td><strong>Generated Date:</strong></td>
                    <td>DD/MM/YYYY</td>
                </tr>
                <tr>
                    <td><strong>Generated By:</strong></td>
                    <td>John Doe</td>
                    <td><strong>Valid Upto:</strong></td>
                    <td>26/02/2025</td>
                </tr>
                <tr>
                    <td><strong>Mode:</strong></td>
                    <td>Road</td>
                    <td><strong>Approx Distance:</strong></td>
                    <td>250 km</td>
                </tr>
                <tr>
                    <td><strong>Type:</strong></td>
                    <td>Regular</td>
                    <td><strong>Document Details:</strong></td>
                    <td>Invoice</td>
                </tr>
                <tr>
                    <td><strong>Transaction Type:</strong></td>
                    <td>Invoice</td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>
        <!-- 2. Address Details -->
        <div class="ewaybill-section">
            <h5>2. Address Details</h5>
            <table style="width: 100%; border-collapse: collapse;">
                <tr>
                    <td><strong>Supplier Name:</strong></td>
                    <td>Supplier Name</td>
                    <td><strong>Recipient Name:</strong></td>
                    <td>Recipient Name</td>
                </tr>
                <tr>
                    <td><strong>Supplier GSTIN:</strong></td>
                    <td>22AAAAA0000A1Z5</td>
                    <td><strong>Recipient GSTIN:</strong></td>
                    <td>22BBBBB0000B1Z5</td>
                </tr>
                <tr>
                    <td><strong>Supplier Address:</strong></td>
                    <td>Supplier Address</td>
                    <td><strong>Recipient Address:</strong></td>
                    <td>Recipient Address</td>
                </tr>
            </table>
        </div>

        <!-- 3. Goods Details -->
        <div class="ewaybill-section">
            <h5>3. Goods Details</h5>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <th>HSN Code</th>
                        <th>Quantity</th>
                        <th>Taxable Amount</th>
                        <th>Tax Rate(CGST+SGST+IGST+Cess+Cess Non Advol Amt.)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Rice Bran</td>
                        <td>23024000</td>
                        <td>120</td>
                        <td>₹288000</td>
                        <td>2.5%+2.5%+NE+NE+0</td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Total Taxable Amount</th>
                        <th>CGST Amount</th>
                        <th>SGST Amount</th>
                        <th>IGST Amount</th>
                        <th>Cess Amount</th>
                        <th>Cess Non Advol Amt.</th>
                        <th>Other Amount</th>
                        <th>Total Invoice Amt</th> 
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>₹288000.00</td>
                        <td>₹7200.00</td>
                        <td>₹7200.00</td>
                        <td>₹0.00</td>
                        <td>₹0.00</td>
                        <td>₹0.00</td>
                        <td>₹0.00</td>
                        <td>₹302400.00</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 4. Transportation Details -->
        <div class="ewaybill-section">
            <h5>4. Transportation Details</h5>
            <table style="width: 100%; border-collapse: collapse; border: none;">
                <tr>
                    <td><strong>Transporter Id and Date:</strong></td>
                    <td>Road</td>
                    <td><strong>Transporter Doc no & Date:</strong></td>
                    <td>Transporter Name</td>
                </tr>
            </table>
        </div>

        <!-- 5. Vehicle Details -->
        <div class="ewaybill-section">
            <h5>5. Vehicle Details</h5>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Mode</th>
                        <th>Vehicle/Trans Doc No & Dt</th>
                        <th>From</th>
                        <th>Entered Date</th>
                        <th>Entered By</th>
                        <th>CEWB No (If any)</th>
                        <th>Multi Veh. Info (If any)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Road</td>
                        <td>AB12CD3456</td>
                        <td>City A</td>
                        <td>DD/MM/YYYY</td>
                        <td>John Doe</td>
                        <td>123456</td>
                        <td>None</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="ewaybill-section text-end d-print-none">
            <div class="row">
            <div class="col-md-12">
                <button class="btn btn-primary" id="downloadPdfBtn">Download as PDF</button>
            </div>
            </div>
        </div>
        <script>
            document.getElementById('downloadPdfBtn').addEventListener('click', () => {
                const originalWidth = document.body.style.width;
                const originalFloat = Array.from(document.querySelectorAll('.col-md-6')).map(el => el.style.float);
                const originalWidthStyles = Array.from(document.querySelectorAll('.col-md-6')).map(el => el.style.width);

                // Adjust styles for print
                document.body.style.width = '210mm'; // Set the width to match the print layout
                document.querySelectorAll('.col-md-6').forEach(el => {
                    el.style.float = 'none';
                    el.style.width = '100%';
                });

                window.print();

                // Revert styles back to original
                document.body.style.width = originalWidth;
                document.querySelectorAll('.col-md-6').forEach((el, index) => {
                    el.style.float = originalFloat[index];
                    el.style.width = originalWidthStyles[index];
                });
            });
        </script>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>